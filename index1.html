<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOLETO</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            width: 6.8cm;
            height: 14cm;
            margin: 0 auto;
            margin-top: 0px;
        }
        .container {
            display: flex;
            font-size: 11.8px; 
            font-family: Arial, sans-serif;
            margin-top: -10px;
            margin-bottom: -10px;
        }
        .parrafo-inferior {
            font-family: Arial, sans-serif;
            text-align: center;
            line-height: 2px;
        }
        .centrar-texto {
            text-align: center;
        }
        h2 {
            font-size: 13px;
            font-family: 'Lexend', sans-serif;
            margin-bottom: -10px;
            line-height: 1;
            padding: 0px;
            margin-top: -7px;
        }
        table, th, td {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: -5px;
        }
        td {
            font-size: 12px;
            font-family: Arial, sans-serif;
            padding: 5px;
            border: 0px solid #C0C0C0;
        }
        th {
            font-size: 12px;
            padding: 6px;
            font-family: 'Oswald', sans-serif;
            background-color: #CECECE;
            border: 1px solid;
            font-weight: 500;
        }
        th:nth-child(1), td:nth-child(1) {
            width: 39%;
        }
        th:nth-child(2), td:nth-child(2) {
            width: 42%;
        }
        th:nth-child(3), td:nth-child(3) {
            width: 19%;
        }
        tr:nth-child(n+3):nth-child(-n+13) td {
            border-bottom: 1px solid #A9A9A9;
        }
        tbody td {
            border-right: 1px solid #A9A9A9;
            border-left: 1px solid #A9A9A9;
        }
        td.especial {
            border-bottom: 1px dashed #C0C0C0;
        }
        .red {
            color: red;
            font-weight: bold;
            font-size: 14px; /* Tamaño del signo de exclamación */
        }
        @media print {
            body {
                margin-top: 0;
                padding-top: 0;
            }
        }
        @page {
    margin: 1mm; /* Márgenes personalizados */
    </style>
    <script>
        // Función para obtener los parámetros de la URL
        function getQueryParams() {
            const urlParams = new URLSearchParams(window.location.search);
            const campos = ["Nombre", "Fecha", "Hora", "cant_bombon", "cant_granizado", "cant_arbolito", "cant_agua", "cant_cono", "cant_bombonato", "cant_crocante", "cant_chococo", "cant_sandwich", "cant_vasotapa", "cant_festino", "cant_canaleado", "cant_wafer", "valor"];

            // Rellenar los campos si existen en los parámetros de la URL
            campos.forEach(campo => {
                const valor = urlParams.get(campo);
                if (valor !== null) {
                    const elemento = document.getElementById(campo);
                    elemento.innerHTML = valor;
                }
            });

            // Detectar y estilizar signos de exclamación
            const elementos = document.querySelectorAll('p, td, h2, span'); // Seleccionar elementos con texto
            elementos.forEach(el => {
                el.innerHTML = el.innerHTML.replace(/(!)/g, '<span class="red">$1</span>');
            });

            // Imprimir automáticamente
            window.print();
        }

        window.onload = getQueryParams; // Ejecutar al cargar la página
    </script>
</head>
<body onload="getQueryParams()" onfocus="window.close()">
    <div class="centrar-texto">
        <p style="font-size: 13px;font-family: 'Roboto', sans-serif; margin-bottom: -10px; margin-top: 15px; font-weight: 200;">HELADERÍA PRIMAVERA</p>
        <p style="font-size: 10px;font-family: Arial, sans-serif;border-bottom: -10px;">TELÉFONO: 73196102 - 72627865</p> 
        <h2>TICKET DE ENTREGA</h2>
    </div>

    <div class="container">    
        <p>Para:&nbsp;</p>
        <p id="Nombre"></p>&nbsp;&nbsp;
        <p>Fecha:&nbsp;</p>
        <p id="Fecha"></p>&nbsp;&nbsp;
        <p>H:&nbsp;</p>
        <p id="Hora"></p>
    </div> 
    <table>
        <thead>
            <tr>
                <th>PRODUCTO</th>
                <th>CANTIDAD</th>
                <th>SOBRA</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Bombón (1)</td>
                <td class="especial" id="cant_bombon"></td>
                <td class="especial"></td>
            </tr>
            <tr>
                <td>Granizado (1)</td>
                <td class="especial" id="cant_granizado"></td>
                <td class="especial"></td>
            </tr>
            <tr>
                <td>Arbolito (1)</td>
                <td id="cant_arbolito"></td>
                <td></td>
            </tr>
            <tr>
                <td>De_Agua (0.6)</td>
                <td id="cant_agua"></td>
                <td></td>
            </tr>
            <tr>
                <td>Wafer (1.2)</td>
                <td id="cant_wafer"></td>
                <td></td>
            </tr>
            <tr>
                <td style="font-family:Arial Narrow Bold', sans-serif">V_Canaleado(1.1)</td>
                <td id="cant_canaleado"></td>
                <td></td>
            </tr>
            <tr>
                <td>Cono (2)</td>
                <td id="cant_cono"></td>
                <td></td>
            </tr>
            <tr>
                <td>Vaso_tapa (1.5)</td>
                <td id="cant_vasotapa"></td>
                <td></td>
            </tr>
            <tr>
                <td>Crocante (2.5)</td>
                <td id="cant_crocante"></td>
                <td></td>
            </tr>
            <tr>
                <td>Chococo (2.5)</td>
                <td id="cant_chococo"></td>
                <td></td>
            </tr>
            <tr>
                <td>Bombonato (2)</td>
                <td id="cant_bombonato"></td>
                <td></td>
            </tr>
            <tr>
                <td>Festino (3.5)</td>
                <td id="cant_festino"></td>
                <td></td>
            </tr>
            <tr>
                <td>Sanwich (2.5)</td>
                <td id="cant_sandwich"></td>
                <td></td>
            </tr>
        </tbody>
    </table> 
    <div class="parrafo-inferior">
        <p style="font-size: 14px">Valor: <span><strong id="valor"></strong></span></p>
        <p style="font-size: 11px">&#128073; Por favor revise este ticket antes de salir </p>
        <p style="font-size: 11px">&#128522; QUE TENGA BUENA VENTA &#128522; </p>
    </div>
</body>
</html>
